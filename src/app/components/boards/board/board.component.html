<div class="flex justify-start items-center gap-x-3 mb-5">
  
    <h1 class="text-xl md:text-2xl font-semibold text-slate-50 ">Vos tableaux</h1>
</div>
<div class="relative inline-block text-left  shadow-sm ">
    <div class="flex   gap-x-5 max-w-[100%] flex-wrap justify-center sm:justify-start gap-y-5 ">

        <div *ngFor="let board of boards"
            class="relative min-w-full sm:min-w-[250px] flex-wrap p-6 rounded-lg shadow bg-gray-800 border-gray-700 hover:bg-opacity-70 transition-all duration-500 ">
            <div class="bg-red-500">
                <svg (click)="onShowPopUp(board._id , board.name)" fill="#FFF"
                    class="w-5 h-5 absolute top-3 right-3 z-10  cursor-pointer" viewBox="0 0 32 32"
                    enable-background="new 0 0 32 32" id="Glyph" version="1.1" xml:space="preserve"
                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <path d="M16,13c-1.654,0-3,1.346-3,3s1.346,3,3,3s3-1.346,3-3S17.654,13,16,13z" id="XMLID_287_" />
                    <path d="M6,13c-1.654,0-3,1.346-3,3s1.346,3,3,3s3-1.346,3-3S7.654,13,6,13z" id="XMLID_289_" />
                    <path d="M26,13c-1.654,0-3,1.346-3,3s1.346,3,3,3s3-1.346,3-3S27.654,13,26,13z" id="XMLID_291_" />
                </svg>

                <!-- Afficher le popup seulement si l'ID du tableau correspond Ã  activePopupId -->
                <div *ngIf="activePopupId === board._id"
                    class="absolute top-10 -right-3 border border-solid border-gray-800 bg-gray-900 rounded-md z-10 text-[rgb(156 163 175)] min-w-[150px] transition-all duration-500 ">
                    <ul>
                        <li class=" hover:bg-gray-700 w-full transition-all duration-500 rounded-t-md ">
                            <form #formulaire="ngForm" (ngSubmit)="updateBoard(board._id)">

                                <input type="text" name="name" id="name"
                                    class="disable py-2 px-3 outline-none bg-gray-900 text-slate-50 h-full w-full text-lg "
                                    [(ngModel)]="updateBoardName" (focus)="onEditBoard(board)">
                                <button type="submit"
                                    class="bg-blue-900 outline-none text-white py-2 px-3 hidden">Valider</button>
                            </form>
                        </li>
                        <li
                            class="py-2 px-3 hover:bg-gray-700 w-full transition-all duration-500  rounded-b-md flex justify-start items-center gap-x-1 ">
                            <span>
                                <svg fill="rgb(255 255 255)" id="XMLID_298_" xmlns="http://www.w3.org/2000/svg"
                                    xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"
                                    class="flex-shrink-0 w-4 h-4  transition duration-75  text-gray-400 group-hover:text-white">
                                    <g id="favorite">
                                        <path
                                            d="M12,23.2l-0.6-0.5C8.7,20.7,0,13.5,0,7.3C0,3.8,2.9,1,6.5,1c2.2,0,4.3,1.1,5.5,2.9l0,0l0,0C13.2,2.1,15.3,1,17.5,1
                C21.1,1,24,3.8,24,7.3c0,6.3-8.7,13.4-11.4,15.5L12,23.2z M6.5,2.9C4,2.9,2,4.8,2,7.2c0,4.1,5.1,9.5,10,13.4
                c4.9-3.9,10-9.3,10-13.4c0-2.4-2-4.3-4.5-4.3c-1.6,0-3,0.8-3.8,2L12,7.6L10.3,5C9.5,3.7,8.1,2.9,6.5,2.9z" />
                                    </g>
                                </svg>
                            </span>
                            <span>
                                Ajouter aux favoris
                            </span>
                        </li>
                        <li class="py-2 px-3 hover:bg-gray-700 w-full transition-all duration-500 flex justify-start items-center gap-x-1"
                            (click)="deleteBoard(board._id)">
                            <span>
                                <svg class=" w-5 h-5" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10 11V17" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path d="M14 11V17" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path d="M4 7H20" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path d="M6 7H12H18V18C18 19.6569 16.6569 21 15 21H9C7.34315 21 6 19.6569 6 18V7Z"
                                        stroke="#FFFFFF" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path d="M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z"
                                        stroke="#FFFFFF" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                            </span>
                            Supprimer
                        </li>

                    </ul>
                </div>
            </div> 

            <div class="flex justify-center items-center gap-x-3 -z-10  cursor-pointer "
                (click)="workingBoardDetail(board._id)">
                <div class="flex-0">

                    <svg class="w-7 h-7 text-gray-400 group-hover:text-white" fill="currentColor" viewBox="0 0 18 18">
                        <path
                            d="M6.143 0H1.857A1.857 1.857 0 0 0 0 1.857v4.286C0 7.169.831 8 1.857 8h4.286A1.857 1.857 0 0 0 8 6.143V1.857A1.857 1.857 0 0 0 6.143 0Zm10 0h-4.286A1.857 1.857 0 0 0 10 1.857v4.286C10 7.169 10.831 8 11.857 8h4.286A1.857 1.857 0 0 0 18 6.143V1.857A1.857 1.857 0 0 0 16.143 0Zm-10 10H1.857A1.857 1.857 0 0 0 0 11.857v4.286C0 17.169.831 18 1.857 18h4.286A1.857 1.857 0 0 0 8 16.143v-4.286A1.857 1.857 0 0 0 6.143 10Zm10 0h-4.286A1.857 1.857 0 0 0 10 11.857v4.286c0 1.026.831 1.857 1.857 1.857h4.286A1.857 1.857 0 0 0 18 16.143v-4.286A1.857 1.857 0 0 0 16.143 10Z" />
                    </svg>
                </div>
                <div class="flex flex-col justify-center items-start gap-x-2 gap-y-2 flex-1">
                    <h5 class="text-lg sm:text-xl font-semibold tracking-tight text-slate-100">{{board.name}}</h5>
                    <div class="flex justify-start items-center gap-x-1 ">
                        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L15 15" stroke="#FFF" stroke-width="1" stroke-linecap="round" />
                            <circle cx="12" cy="12" r="9" stroke="#FFF" stroke-width="1" />
                        </svg>
                        <p class="font-medium text-gray-400 text-[12px]">{{board.createdAt | date:'medium'}}</p>
                    </div>
                </div>
            </div>
        </div>

    </div>