<div class="flex justify-start items-center gap-x-3 mb-5">
    <svg class="w-10 h-10" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
            d="M17.8944 5.44721C18.1414 4.95324 17.9412 4.35256 17.4472 4.10557C16.9532 3.85858 16.3526 4.05881 16.1056 4.55279L13.6414 9.48107L11.0435 7.53264C10.3319 6.99895 9.31491 7.19817 8.85727 7.96089L6.14251 12.4855C5.85836 12.9591 6.01192 13.5733 6.4855 13.8575C6.95908 14.1416 7.57334 13.9881 7.85749 13.5145L10.287 9.46527L12.9207 11.4405C13.6694 12.0021 14.7438 11.7484 15.1624 10.9114L17.8944 5.44721Z"
            fill="#FFF" />
        <path fill-rule="evenodd" clip-rule="evenodd"
            d="M23 4C23 2.34315 21.6569 1 20 1H4C2.34315 1 1 2.34315 1 4V14C1 15.6569 2.34315 17 4 17H10.438L5.35982 21.2318C4.93554 21.5853 4.87821 22.2159 5.23178 22.6402C5.58534 23.0645 6.21591 23.1218 6.64018 22.7682L11 19.135V22C11 22.5523 11.4477 23 12 23C12.5523 23 13 22.5523 13 22V19.135L17.3598 22.7682C17.7841 23.1218 18.4147 23.0645 18.7682 22.6402C19.1218 22.2159 19.0645 21.5853 18.6402 21.2318L13.562 17H20C21.6569 17 23 15.6569 23 14V4ZM21 4C21 3.44772 20.5523 3 20 3H4C3.44772 3 3 3.44772 3 4V14C3 14.5523 3.44772 15 4 15H20C20.5523 15 21 14.5523 21 14V4Z"
            fill="#FFF" />
    </svg>
    <h1 class="text-3xl font-semibold text-slate-50 ">Vos tableaux</h1>
</div>
<div class="relative inline-block text-left">
    <div class="flex   gap-x-5 max-w-[100%] flex-wrap justify-center sm:justify-start gap-y-5 ">

        <div *ngFor="let board of boards"
            (click)="workingBoardDetail(board._id)" routerLinkActive="router-link-active" 
            class="relative min-w-full sm:min-w-[300px] flex-wrap p-6 rounded-lg shadow bg-gray-800 border-gray-700 cursor-pointer hover:bg-opacity-70 transition-all duration-500 ">

            <svg (click)="onShowPopUp(board._id , board.name)" fill="#FFF" class="w-5 h-5 absolute top-3 right-3 z-10"
                viewBox="0 0 32 32" enable-background="new 0 0 32 32" id="Glyph" version="1.1" xml:space="preserve"
                xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <path d="M16,13c-1.654,0-3,1.346-3,3s1.346,3,3,3s3-1.346,3-3S17.654,13,16,13z" id="XMLID_287_" />
                <path d="M6,13c-1.654,0-3,1.346-3,3s1.346,3,3,3s3-1.346,3-3S7.654,13,6,13z" id="XMLID_289_" />
                <path d="M26,13c-1.654,0-3,1.346-3,3s1.346,3,3,3s3-1.346,3-3S27.654,13,26,13z" id="XMLID_291_" />
            </svg>

            <!-- Afficher le popup seulement si l'ID du tableau correspond Ã  activePopupId -->
            <div *ngIf="activePopupId === board._id"
                class="absolute top-10 -right-3 border border-solid border-gray-800 bg-gray-900 rounded-md z-50 text-[rgb(156 163 175)] min-w-[150px] transition-all duration-500 ">
                <ul>
                    <li class=" hover:bg-gray-700 w-full transition-all duration-500 rounded-t-md ">
                        <form #formulaire="ngForm" (ngSubmit)="updateBoard(board._id)">

                            <input type="text" name="name" id="name"
                                class="disable py-2 px-3 outline-none bg-gray-900 text-slate-50 h-full w-full text-lg "
                                [(ngModel)]="updateBoardName" (focus)="onEditBoard(board)">
                            <button type="submit"
                                class="bg-blue-900 outline-none text-white py-2 px-3 hidden">Valider</button>
                        </form>
                    </li>
                    <li
                        class="py-2 px-3 hover:bg-gray-700 w-full transition-all duration-500  rounded-b-md flex justify-start items-center gap-x-1 ">
                        <span>
                            <svg fill="rgb(255 255 255)" id="XMLID_298_" xmlns="http://www.w3.org/2000/svg"
                                xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"
                                class="flex-shrink-0 w-4 h-4  transition duration-75  text-gray-400 group-hover:text-white">
                                <g id="favorite">
                                    <path
                                        d="M12,23.2l-0.6-0.5C8.7,20.7,0,13.5,0,7.3C0,3.8,2.9,1,6.5,1c2.2,0,4.3,1.1,5.5,2.9l0,0l0,0C13.2,2.1,15.3,1,17.5,1
                C21.1,1,24,3.8,24,7.3c0,6.3-8.7,13.4-11.4,15.5L12,23.2z M6.5,2.9C4,2.9,2,4.8,2,7.2c0,4.1,5.1,9.5,10,13.4
                c4.9-3.9,10-9.3,10-13.4c0-2.4-2-4.3-4.5-4.3c-1.6,0-3,0.8-3.8,2L12,7.6L10.3,5C9.5,3.7,8.1,2.9,6.5,2.9z" />
                                </g>
                            </svg>
                        </span>
                        <span>
                            Ajouter aux favoris
                        </span>
                    </li>
                    <li class="py-2 px-3 hover:bg-gray-700 w-full transition-all duration-500 flex justify-start items-center gap-x-1"
                        (click)="deleteBoard(board._id)">
                        <span>
                            <svg class=" w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 11V17" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path d="M14 11V17" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path d="M4 7H20" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path d="M6 7H12H18V18C18 19.6569 16.6569 21 15 21H9C7.34315 21 6 19.6569 6 18V7Z"
                                    stroke="#FFFFFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                <path d="M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z"
                                    stroke="#FFFFFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </span>
                        Supprimer
                    </li>

                </ul> 
            </div>

            <div class="flex justify-center items-center gap-x-3 -z-10 ">
                <svg class="w-5 h-5 text-gray-400 group-hover:text-white" fill="currentColor" viewBox="0 0 18 18">
                    <path
                        d="M6.143 0H1.857A1.857 1.857 0 0 0 0 1.857v4.286C0 7.169.831 8 1.857 8h4.286A1.857 1.857 0 0 0 8 6.143V1.857A1.857 1.857 0 0 0 6.143 0Zm10 0h-4.286A1.857 1.857 0 0 0 10 1.857v4.286C10 7.169 10.831 8 11.857 8h4.286A1.857 1.857 0 0 0 18 6.143V1.857A1.857 1.857 0 0 0 16.143 0Zm-10 10H1.857A1.857 1.857 0 0 0 0 11.857v4.286C0 17.169.831 18 1.857 18h4.286A1.857 1.857 0 0 0 8 16.143v-4.286A1.857 1.857 0 0 0 6.143 10Zm10 0h-4.286A1.857 1.857 0 0 0 10 11.857v4.286c0 1.026.831 1.857 1.857 1.857h4.286A1.857 1.857 0 0 0 18 16.143v-4.286A1.857 1.857 0 0 0 16.143 10Z" />
                </svg>
                <div class="flex flex-col justify-center items-start gap-x-2 gap-y-2">
                    <h5 class="text-lg sm:text-xl font-semibold tracking-tight text-slate-100">{{board.name}}</h5>
                    <div class="flex justify-start items-center gap-x-1 ">
                        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L15 15" stroke="#FFF" stroke-width="1" stroke-linecap="round" />
                            <circle cx="12" cy="12" r="9" stroke="#FFF" stroke-width="1" />
                        </svg>
                        <p class="font-medium text-gray-400 text-[12px]">{{board.createdAt | date:'medium'}}</p>
                    </div>
                </div>
            </div>
        </div>

    </div>